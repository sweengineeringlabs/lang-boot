# Example application configuration file
# This can be mounted into the container at /app/config/app.toml

[app]
name = "rustboot-app"
environment = "production"
host = "0.0.0.0"
port = 8080

[database]
max_connections = 10
min_connections = 2
connect_timeout = 30
idle_timeout = 600
max_lifetime = 1800
# Connection URL should be set via environment variable for security
# url is read from DATABASE_URL environment variable

[redis]
max_connections = 10
connection_timeout = 5
# URL is read from REDIS_URL environment variable

[cache]
ttl = 3600
enabled = true

[session]
timeout = 3600
cookie_name = "rustboot_session"
cookie_secure = false
cookie_http_only = true
cookie_same_site = "Lax"
# Secret is read from SESSION_SECRET environment variable

[security]
cors_allowed_origins = ["http://localhost:3000", "http://localhost:8080"]
cors_allowed_methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"]
cors_allowed_headers = ["Content-Type", "Authorization", "X-Requested-With"]
cors_allow_credentials = true
cors_max_age = 3600

[ratelimit]
requests = 100
window = 60
enabled = true

[logging]
level = "info"
format = "json"

[observability]
metrics_enabled = true
tracing_enabled = true
health_check_enabled = true

[features]
api_v2 = false
experimental = false
